PS C:\Users\slend\OneDrive - Groupe ESIEA\Desktop\PROJET SQL\SQL> streamlit run main.py

  You can now view your Streamlit app in your browser.

  Local URL: http://localhost:8501
  Network URL: http://192.168.0.15:8501

2024-11-25 03:05:15.962 Uncaught app exception
Traceback (most recent call last):
  File "C:\Users\slend\AppData\Local\Programs\Python\Python312\Lib\site-packages\streamlit\runtime\scriptrunner\exec_code.py", line 88, in exec_func_with_error_handling
    result = func()
             ^^^^^^
  File "C:\Users\slend\AppData\Local\Programs\Python\Python312\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 579, in code_to_exec
    exec(code, module.__dict__)
  File "C:\Users\slend\OneDrive - Groupe ESIEA\Desktop\PROJET SQL\SQL\main.py", line 36, in <module>
    results = search_movies(query)
              ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slend\OneDrive - Groupe ESIEA\Desktop\PROJET SQL\SQL\functions.py", line 16, in search_movies
    genres_mapping = {genre['id']: genre['name'] for genre in movie_api.genres()["genres"]}
                                                              ^^^^^^^^^^^^^^^^
AttributeError: 'Movie' object has no attribute 'genres'
2024-11-25 03:05:25.634 Uncaught app exception
Traceback (most recent call last):
  File "C:\Users\slend\AppData\Local\Programs\Python\Python312\Lib\site-packages\pandas\core\indexes\base.py", line 3805, in get_loc
    return self._engine.get_loc(casted_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "index.pyx", line 167, in pandas._libs.index.IndexEngine.get_loc
  File "index.pyx", line 196, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7081, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7089, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'genres'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\slend\AppData\Local\Programs\Python\Python312\Lib\site-packages\streamlit\runtime\scriptrunner\exec_code.py", line 88, in exec_func_with_error_handling
    result = func()
             ^^^^^^
  File "C:\Users\slend\AppData\Local\Programs\Python\Python312\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 579, in code_to_exec
    exec(code, module.__dict__)
  File "C:\Users\slend\OneDrive - Groupe ESIEA\Desktop\PROJET SQL\SQL\main.py", line 63, in <module>
    analyze_genres(genre=genre)
  File "C:\Users\slend\OneDrive - Groupe ESIEA\Desktop\PROJET SQL\SQL\functions.py", line 59, in analyze_genres
    filtered = data[data["genres"].str.contains(genre, case=False, na=False)]
                    ~~~~^^^^^^^^^^
  File "C:\Users\slend\AppData\Local\Programs\Python\Python312\Lib\site-packages\pandas\core\frame.py", line 4102, in __getitem__
    indexer = self.columns.get_loc(key)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slend\AppData\Local\Programs\Python\Python312\Lib\site-packages\pandas\core\indexes\base.py", line 3812, in get_loc
    raise KeyError(key) from err
KeyError: 'genres'
2024-11-25 03:05:41.927 Uncaught app exception
Traceback (most recent call last):
  File "C:\Users\slend\AppData\Local\Programs\Python\Python312\Lib\site-packages\pandas\core\indexes\base.py", line 3805, in get_loc
    return self._engine.get_loc(casted_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "index.pyx", line 167, in pandas._libs.index.IndexEngine.get_loc
  File "index.pyx", line 196, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7081, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7089, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'director'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\slend\AppData\Local\Programs\Python\Python312\Lib\site-packages\streamlit\runtime\scriptrunner\exec_code.py", line 88, in exec_func_with_error_handling
    result = func()
             ^^^^^^
  File "C:\Users\slend\AppData\Local\Programs\Python\Python312\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 579, in code_to_exec
    exec(code, module.__dict__)
  File "C:\Users\slend\OneDrive - Groupe ESIEA\Desktop\PROJET SQL\SQL\main.py", line 70, in <module>
    analyze_directors(director)
  File "C:\Users\slend\OneDrive - Groupe ESIEA\Desktop\PROJET SQL\SQL\functions.py", line 69, in analyze_directors
    filtered = data[data["director"].str.contains(director, case=False, na=False)]
                    ~~~~^^^^^^^^^^^^
  File "C:\Users\slend\AppData\Local\Programs\Python\Python312\Lib\site-packages\pandas\core\frame.py", line 4102, in __getitem__
    indexer = self.columns.get_loc(key)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slend\AppData\Local\Programs\Python\Python312\Lib\site-packages\pandas\core\indexes\base.py", line 3812, in get_loc
    raise KeyError(key) from err
KeyError: 'director'
2024-11-25 03:05:46.052 Uncaught app exception
Traceback (most recent call last):
  File "C:\Users\slend\AppData\Local\Programs\Python\Python312\Lib\site-packages\pandas\core\indexes\base.py", line 3805, in get_loc
    return self._engine.get_loc(casted_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "index.pyx", line 167, in pandas._libs.index.IndexEngine.get_loc
  File "index.pyx", line 196, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7081, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7089, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'actors'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\slend\AppData\Local\Programs\Python\Python312\Lib\site-packages\streamlit\runtime\scriptrunner\exec_code.py", line 88, in exec_func_with_error_handling
    result = func()
             ^^^^^^
  File "C:\Users\slend\AppData\Local\Programs\Python\Python312\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 579, in code_to_exec
    exec(code, module.__dict__)
  File "C:\Users\slend\OneDrive - Groupe ESIEA\Desktop\PROJET SQL\SQL\main.py", line 77, in <module>
    analyze_actors(actor)
  File "C:\Users\slend\OneDrive - Groupe ESIEA\Desktop\PROJET SQL\SQL\functions.py", line 79, in analyze_actors
    filtered = data[data["actors"].str.contains(actor, case=False, na=False)]
                    ~~~~^^^^^^^^^^
  File "C:\Users\slend\AppData\Local\Programs\Python\Python312\Lib\site-packages\pandas\core\frame.py", line 4102, in __getitem__
    indexer = self.columns.get_loc(key)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slend\AppData\Local\Programs\Python\Python312\Lib\site-packages\pandas\core\indexes\base.py", line 3812, in get_loc
    raise KeyError(key) from err
KeyError: 'actors'
2024-11-25 03:05:50.226 Uncaught app exception
Traceback (most recent call last):
  File "C:\Users\slend\AppData\Local\Programs\Python\Python312\Lib\site-packages\pandas\core\indexes\base.py", line 3805, in get_loc
    return self._engine.get_loc(casted_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "index.pyx", line 167, in pandas._libs.index.IndexEngine.get_loc
  File "index.pyx", line 196, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7081, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7089, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'release_date'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\slend\AppData\Local\Programs\Python\Python312\Lib\site-packages\streamlit\runtime\scriptrunner\exec_code.py", line 88, in exec_func_with_error_handling
    result = func()
             ^^^^^^
  File "C:\Users\slend\AppData\Local\Programs\Python\Python312\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 579, in code_to_exec
    exec(code, module.__dict__)
  File "C:\Users\slend\OneDrive - Groupe ESIEA\Desktop\PROJET SQL\SQL\main.py", line 86, in <module>
    analyze_geography(year=year)
  File "C:\Users\slend\OneDrive - Groupe ESIEA\Desktop\PROJET SQL\SQL\functions.py", line 90, in analyze_geography
    filtered = data[data["release_date"].str.startswith(str(year))]
                    ~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\slend\AppData\Local\Programs\Python\Python312\Lib\site-packages\pandas\core\frame.py", line 4102, in __getitem__
    indexer = self.columns.get_loc(key)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slend\AppData\Local\Programs\Python\Python312\Lib\site-packages\pandas\core\indexes\base.py", line 3812, in get_loc
    raise KeyError(key) from err
KeyError: 'release_date'
2024-11-25 03:05:54.281 Uncaught app exception
Traceback (most recent call last):
  File "C:\Users\slend\AppData\Local\Programs\Python\Python312\Lib\site-packages\pandas\core\indexes\base.py", line 3805, in get_loc
    return self._engine.get_loc(casted_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "index.pyx", line 167, in pandas._libs.index.IndexEngine.get_loc
  File "index.pyx", line 196, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7081, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7089, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'genres'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\slend\AppData\Local\Programs\Python\Python312\Lib\site-packages\streamlit\runtime\scriptrunner\exec_code.py", line 88, in exec_func_with_error_handling
    result = func()
             ^^^^^^
  File "C:\Users\slend\AppData\Local\Programs\Python\Python312\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 579, in code_to_exec
    exec(code, module.__dict__)
  File "C:\Users\slend\OneDrive - Groupe ESIEA\Desktop\PROJET SQL\SQL\main.py", line 90, in <module>
    analyze_geography(country=country)
  File "C:\Users\slend\OneDrive - Groupe ESIEA\Desktop\PROJET SQL\SQL\functions.py", line 92, in analyze_geography
    filtered = data[data["genres"].str.contains(country, case=False, na=False)]
                    ~~~~^^^^^^^^^^
  File "C:\Users\slend\AppData\Local\Programs\Python\Python312\Lib\site-packages\pandas\core\frame.py", line 4102, in __getitem__
    indexer = self.columns.get_loc(key)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slend\AppData\Local\Programs\Python\Python312\Lib\site-packages\pandas\core\indexes\base.py", line 3812, in get_loc
    raise KeyError(key) from err
KeyError: 'genres'

ça marche pas encore fais les choses bien stp prends ton temps 